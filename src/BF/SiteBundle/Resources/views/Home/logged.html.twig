{% extends "BFSiteBundle::base.html.twig" %}

{% block title %}
  Home page - {{ parent() }}
{% endblock %}


{% block content %}
	<section class="background text-center" style="background-color:green;">
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <div class="col-xs-4 col-sm-4 col-md-3 col-lg-3 row">
          
            <a data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
              <div class="challengetitle text-center row" style="position:relative;">
                <h3 style="color:white;">Notifications</h3>
              </div>
            </a>

            
              <div class="collapse" id="collapseExample">
                <div class="videotabback row" style="min-height:0px;">
                  <div class="challengecontent" style="margin: 0px 10px; margin-bottom:10px;">
                    {% for notification in listNotifications %}
                      <div class="well" style="margin-bottom:10px;">
                        {{ notification.message }}</br>
                      </div>
                    {% endfor %}
                  </div>
                </div>
            </div>
          </br>
        
            <div class="challengetitle text-center row">
                <h3 style="color:white;">{{ app.user.username }}</h3>
            </div>
            <div class="videotabback" style="min-height:210px;">
              <div class="challengecontent row" style="margin: 0px 10px; margin-bottom:10px;">
                <h2 class="text-center">{{ level }}</h2>
                <p>{{ user.points }} Points</p>
                <div class="progress class="text-center"">
                  <div class="progress-bar {{ style }} progress-bar-striped active" role="progressbar" aria-valuenow="{{ user.points }}" aria-valuemin="{{min}}" aria-valuemax="{{max}}" style="width:{{percent}}%;">
                  </div>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 row">
                  <h3 class="text-center">Ranking</h3>
                  <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 row">
                    <img src="../img/globe.png" alt="globe ranking" style="width:25px;"/><!--globe -->
                  </div><!--
                  --><div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 row">
                    <p> {{ ranking.0 }}</p>
                  </div>
                  <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 row"><!--country -->
                    {% if app.user.country.name == 'France' %}
                      <img src="/img/fr.jpg" alt="" style="width:25px;"/>
                    {% elseif app.user.country.name == 'United States' %}
                      <img src="/img/usa.jpg" alt="" style="width:25px;"/>
                    {% elseif app.user.country.name == 'Belgium' %}
                      <img src="/img/be.jpg" alt="" style="width:25px;"/>
                    {% endif %}
                     
                  </div><!--
                  --><div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 row">
                    <p> {{ ranking.1 }} </p>
                  </div>
                  <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 row">
                    <p>{{ app.user.state.name }} <!--State -->
                  </div><!--
                  --><div class="col-xs-6 col-sm-6 col-md-6 col-lg-6 row">
                    <p> {{ ranking.2 }} </p>
                  </div>
                </div>
              </div>
              </div>
            </div>

        <div class="col-xs-5 col-sm-5 col-md-7 col-lg-7 row">
          {% for video in listVideos %}

            {% if video.type == 'freestyle' %}
              <div class="well row" style="margin-bottom:10px;">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 row">
                  <div class="col-xs-4 col-sm-4 col-md-4 col-lg-2 vcenter row">
                    <img src="{{ video.user.picture.src }}" alt="{{ video.user.picture.src }}" style="width:100%" id="{{ video.user.username }}">
                  </div><!--
               --><div class="col-xs-8 col-sm-8 col-md-8 col-lg-10 vcenter row">
                    <a href="{{ path('bf_site_profile', { 'username': video.user.username }) }}">{{ video.user.username }}</a>
                  </div>
                </div>
                <p>{{ video.title }}</p>
                <video width="100%" id="video" controls>
                  <source src="/uploads/videos/{{ video.id}}.{{ video.source }}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
              </div>
            {% elseif video.type == 'challenge' %}
              <div class="well row" style="margin-bottom:10px;">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 row">
                  <div class="col-xs-4 col-sm-4 col-md-4 col-lg-2 vcenter row">
                    <img src="{{ video.user.picture.src }}" alt="{{ video.user.picture.src }}" style="width:100%" id="{{ video.user.username }}">
                  </div><!--
               --><div class="col-xs-8 col-sm-8 col-md-8 col-lg-10 vcenter row">
                    <a href="{{ path('bf_site_profile', { 'username': video.user.username }) }}">{{ video.user.username }}
                  </div>
                </div>
                <p>{{ video.title }} to the {{ video.challenge.title }} challenge.</p>
                <video width="100%" id="video" controls>
                  <source src="/uploads/videos/{{ video.id}}.{{ video.source }}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
              </div>
            {% endif %}

          {% endfor %}
        </div>
        <div class="col-xs-3 col-sm-3 col-md-2 col-lg-2 row">
          Advertisements
        </div> 
      </div>
    </div>
  </section>
{% endblock %}
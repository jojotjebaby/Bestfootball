{% extends "BFSiteBundle::base.html.twig" %}


{% block meta %}
  <meta name="description" content="Bla bla bla concernant l'upload.">
  <meta name="keywords" content="soccer,football ">
{% endblock %}


{% block title %}
  {{ 'Upload your video.'|trans }} - {{ parent() }} 
{% endblock %}

{% block content %}
<section class="header">
  <div class="row" style="min-height:65vh;margin-top:50px;">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-10 col-lg-offset-1">
      <div class="row">
        <!--Begin of the upload page -->
        <div class="col-xs-12 col-sm-8 col-md-6 col-lg-6 col-sm-offset-2 col-md-offset-3 col-lg-offset-3" style="margin-top:50px;">
          <div class="challengedescription text-center">
            <div class="challengetitle">
              <h3 style="color:white;">{{ 'Upload your video.'|trans }}</h3>
            </div>
            <div class="challengecontent text-center">
              {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
              {# Les erreurs générales du formulaire. #}
              {{ form_errors(form) }}
              <div class="form-group">
                {# Affichage des erreurs pour ce champ précis. #}
                {{ form_errors(form.title) }}
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                  {# Génération de l'input. #}
                  {{ form_widget(form.title, {'attr': {'class': 'form-control','placeholder': 'Title'}}) }}
                </div>
              </div>

              {# Idem pour un autre champ. #}
              <div class="form-group">
                {{ form_errors(form.description) }}
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                  {{ form_widget(form.description, {'attr': {'class': 'form-control','placeholder': 'Description'}}) }}
                </div>
              </div>

              <div class="form-group">
                {{ form_errors(form.repetitions) }}
                <div class="col-xs-12 col-sm-8 col-md-9 col-lg-9">
                  {{ form_widget(form.repetitions, {'attr': {'class': 'form-control','placeholder': 'Repetitions'}}) }}
                </div>
              </div>

              <div class="form-group">
                {{ form_errors(form.file) }}
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                  {{ form_widget(form.file, {'attr': {'class': 'form-control'}}) }}
                </div>
              </div>
              <input type="submit" value="Upload" id="submit" class="btn btn-upload" />

              <!--the loading img when the user decided to click upload -->
              <p class="uploading" style="visibility: hidden;">Your video is being uploaded and converted. Please wait till this page says your video is uploaded</p>
              <img src="/img/loading.gif" alt="the loading gif on bestfootball" class="uploading" style="width: 100px;visibility: hidden;"/>
              
              </br>
              <a href="{{ path('bf_site_homepage') }}" class="btn btn-danger" style="font-size:10px;">
                <i class="glyphicon glyphicon-remove"></i>
                  {{ 'cancel'|trans }}
              </a>
            {# Pour le bouton, pas de label ni d'erreur, on affiche juste le widget #}
            {{ form_rest(form) }}
            {# Fermeture de la balise <form> du formulaire HTML #}
            {{ form_end(form) }}
            </div>
          </div>
        </div>
        <!--END of the upload page -->
      </div>
    </div>
  </div>
</section>
{% endblock %}
{% block javascripts %}
  {{ parent() }}
  <script type="text/javascript">
    $( document ).ready(function() {
      //the logic to show the loading gif.
      $("#submit").click(function(){
        $('#submit').hide();
        $('.uploading').show();
      });
    });
  </script>
{% endblock %}
